<div class="propietario-form-overlay">
  <div class="propietario-form-container">
    <div class="modal-header">
      <h2>{{ isEditMode ? 'Editar Propietario' : 'Nuevo Propietario' }}</h2>
      <button type="button" class="close-button" aria-label="Cerrar" (click)="onCancel()">
        &times;
      </button>
    </div>
    
    <div class="modal-content">
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <!-- Cédula -->
        <div class="form-group">
          <label for="cedula">
            Cédula:
            <span class="required">*</span>
          </label>
          <input 
            id="cedula"
            formControlName="cedula" 
            type="text" 
            [class.error]="form.get('cedula')?.invalid && form.get('cedula')?.touched"
            placeholder="Ingrese la cédula del propietario"
            maxlength="20">
          <div *ngIf="form.get('cedula')?.invalid && form.get('cedula')?.touched" class="error-message">
            <span *ngIf="form.get('cedula')?.errors?.['required']">La cédula es requerida</span>
            <span *ngIf="form.get('cedula')?.errors?.['pattern']">Formato de cédula inválido</span>
            <span *ngIf="form.get('cedula')?.errors?.['minlength']">Mínimo 5 caracteres</span>
            <span *ngIf="form.get('cedula')?.errors?.['maxlength']">Máximo 20 caracteres</span>
          </div>
        </div>

        <!-- Primer Nombre -->
        <div class="form-group">
          <label for="primer_nombre">
            Primer nombre:
            <span class="required">*</span>
          </label>
          <input 
            id="primer_nombre"
            formControlName="primer_nombre" 
            type="text" 
            [class.error]="form.get('primer_nombre')?.invalid && form.get('primer_nombre')?.touched"
            placeholder="Ingrese el primer nombre"
            maxlength="50">
          <div *ngIf="form.get('primer_nombre')?.invalid && form.get('primer_nombre')?.touched" class="error-message">
            <span *ngIf="form.get('primer_nombre')?.errors?.['required']">El primer nombre es requerido</span>
            <span *ngIf="form.get('primer_nombre')?.errors?.['minlength']">Mínimo 2 caracteres</span>
            <span *ngIf="form.get('primer_nombre')?.errors?.['maxlength']">Máximo 50 caracteres</span>
            <span *ngIf="form.get('primer_nombre')?.errors?.['pattern']">Solo letras y espacios</span>
          </div>
        </div>
        
        <!-- Segundo Nombre -->
        <div class="form-group">
          <label for="segundo_nombre">
            Segundo nombre:
          </label>
          <input 
            id="segundo_nombre"
            formControlName="segundo_nombre" 
            type="text" 
            [class.error]="form.get('segundo_nombre')?.invalid && form.get('segundo_nombre')?.touched"
            placeholder="Ingrese el segundo nombre (opcional)"
            maxlength="50">
          <div *ngIf="form.get('segundo_nombre')?.invalid && form.get('segundo_nombre')?.touched" class="error-message">
            <span *ngIf="form.get('segundo_nombre')?.errors?.['maxlength']">Máximo 50 caracteres</span>
            <span *ngIf="form.get('segundo_nombre')?.errors?.['pattern']">Solo letras y espacios</span>
          </div>
        </div>
        
        <!-- Apellidos -->
        <div class="form-group">
          <label for="apellidos">
            Apellidos:
            <span class="required">*</span>
          </label>
          <input 
            id="apellidos"
            formControlName="apellidos" 
            type="text" 
            [class.error]="form.get('apellidos')?.invalid && form.get('apellidos')?.touched"
            placeholder="Ingrese los apellidos"
            maxlength="100">
          <div *ngIf="form.get('apellidos')?.invalid && form.get('apellidos')?.touched" class="error-message">
            <span *ngIf="form.get('apellidos')?.errors?.['required']">Los apellidos son requeridos</span>
            <span *ngIf="form.get('apellidos')?.errors?.['minlength']">Mínimo 2 caracteres</span>
            <span *ngIf="form.get('apellidos')?.errors?.['maxlength']">Máximo 100 caracteres</span>
            <span *ngIf="form.get('apellidos')?.errors?.['pattern']">Solo letras y espacios</span>
          </div>
        </div>
        
        <!-- Teléfono -->
        <div class="form-group">
          <label for="telefono">
            Teléfono:
            <span class="required">*</span>
          </label>
          <input 
            id="telefono"
            formControlName="telefono" 
            type="tel" 
            [class.error]="form.get('telefono')?.invalid && form.get('telefono')?.touched"
            placeholder="Ingrese el teléfono"
            maxlength="20">
          <div *ngIf="form.get('telefono')?.invalid && form.get('telefono')?.touched" class="error-message">
            <span *ngIf="form.get('telefono')?.errors?.['required']">El teléfono es requerido</span>
            <span *ngIf="form.get('telefono')?.errors?.['pattern']">Formato de teléfono inválido</span>
            <span *ngIf="form.get('telefono')?.errors?.['minlength']">Mínimo 7 dígitos</span>
            <span *ngIf="form.get('telefono')?.errors?.['maxlength']">Máximo 20 dígitos</span>
          </div>
        </div>

        <!-- Dirección -->
        <div class="form-group">
          <label for="direccion">
            Dirección:
            <span class="required">*</span>
          </label>
          <input 
            id="direccion"
            formControlName="direccion" 
            type="text" 
            [class.error]="form.get('direccion')?.invalid && form.get('direccion')?.touched"
            placeholder="Ingrese la dirección"
            maxlength="200">
          <div *ngIf="form.get('direccion')?.invalid && form.get('direccion')?.touched" class="error-message">
            <span *ngIf="form.get('direccion')?.errors?.['required']">La dirección es requerida</span>
            <span *ngIf="form.get('direccion')?.errors?.['minlength']">Mínimo 5 caracteres</span>
            <span *ngIf="form.get('direccion')?.errors?.['maxlength']">Máximo 200 caracteres</span>
          </div>
        </div>

        <!-- Ciudad -->
        <div class="form-group">
          <label for="ciudad">
            Ciudad:
            <span class="required">*</span>
          </label>
          <input 
            id="ciudad"
            formControlName="ciudad" 
            type="text" 
            [class.error]="form.get('ciudad')?.invalid && form.get('ciudad')?.touched"
            placeholder="Ingrese la ciudad"
            maxlength="100">
          <div *ngIf="form.get('ciudad')?.invalid && form.get('ciudad')?.touched" class="error-message">
            <span *ngIf="form.get('ciudad')?.errors?.['required']">La ciudad es requerida</span>
            <span *ngIf="form.get('ciudad')?.errors?.['minlength']">Mínimo 2 caracteres</span>
            <span *ngIf="form.get('ciudad')?.errors?.['maxlength']">Máximo 100 caracteres</span>
            <span *ngIf="form.get('ciudad')?.errors?.['pattern']">Solo letras y espacios</span>
          </div>
        </div>

        <!-- Estado -->
        <div class="form-group">
          <label for="estado">
            Estado:
            <span class="required">*</span>
          </label>
          <select 
            id="estado"
            formControlName="estado" 
            [class.error]="form.get('estado')?.invalid && form.get('estado')?.touched">
            <option value="">Seleccione un estado</option>
            <option value="Amazonas">Amazonas</option>
            <option value="Antioquia">Antioquia</option>
            <option value="Arauca">Arauca</option>
            <option value="Atlántico">Atlántico</option>
            <option value="Bolívar">Bolívar</option>
            <option value="Boyacá">Boyacá</option>
            <option value="Caldas">Caldas</option>
            <option value="Caquetá">Caquetá</option>
            <option value="Casanare">Casanare</option>
            <option value="Cauca">Cauca</option>
            <option value="Cesar">Cesar</option>
            <option value="Chocó">Chocó</option>
            <option value="Córdoba">Córdoba</option>
            <option value="Cundinamarca">Cundinamarca</option>
            <option value="Guainía">Guainía</option>
            <option value="Guaviare">Guaviare</option>
            <option value="Huila">Huila</option>
            <option value="La Guajira">La Guajira</option>
            <option value="Magdalena">Magdalena</option>
            <option value="Meta">Meta</option>
            <option value="Nariño">Nariño</option>
            <option value="Norte de Santander">Norte de Santander</option>
            <option value="Putumayo">Putumayo</option>
            <option value="Quindío">Quindío</option>
            <option value="Risaralda">Risaralda</option>
            <option value="Santander">Santander</option>
            <option value="Sucre">Sucre</option>
            <option value="Tolima">Tolima</option>
            <option value="Valle del Cauca">Valle del Cauca</option>
            <option value="Vaupés">Vaupés</option>
            <option value="Vichada">Vichada</option>
          </select>
          <div *ngIf="form.get('estado')?.invalid && form.get('estado')?.touched" class="error-message">
            <span *ngIf="form.get('estado')?.errors?.['required']">El estado es requerido</span>
          </div>
        </div>
        
        <!-- Form Actions - Consistent with other forms -->
        <div class="form-actions">
          <button 
            type="button" 
            class="btn-cancel"
            (click)="onCancel()" 
            [disabled]="loading">
            {{ loading ? 'Procesando...' : 'Cancelar' }}
          </button>
          <button 
            type="submit" 
            class="btn-submit"
            [disabled]="loading || form.invalid">
            {{ loading ? 'Guardando...' : (isEditMode ? 'Actualizar' : 'Crear') }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
